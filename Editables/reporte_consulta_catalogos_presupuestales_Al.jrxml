<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="reporte_consulta_catalogos_presupuestales" language="groovy" pageWidth="1116" pageHeight="612" orientation="Landscape" columnWidth="1076" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="5424d3fb-3f52-47db-a752-12e886de815a">
	<property name="ireport.zoom" value="1.000000000000006"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="table">
		<box>
			<pen lineWidth="1.0" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table_TH" mode="Opaque" backcolor="#000080">
		<box>
			<topPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table_CH" mode="Opaque" backcolor="#BFBFFF">
		<box>
			<topPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<topPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<subDataset name="datos" uuid="42ea8e6d-6f89-4800-b44b-c4407278c421">
		<parameter name="ur" class="java.lang.Long">
			<defaultValueExpression><![CDATA[$P{ur}]]></defaultValueExpression>
		</parameter>
		<parameter name="periodo" class="java.lang.Long">
			<defaultValueExpression><![CDATA[$P{periodo}]]></defaultValueExpression>
		</parameter>
		<queryString>
			<![CDATA[SELECT DISTINCT cat.nivel AS "Clave_de_nivel",sm.descripcion AS "Descripción_de_nivel",cat.id_cat AS "Clave_de_registro",
cat.descripcion AS "Descripción_del_registro", catalogos.id_catalogo_foraneo AS "Clave_de_fuente de financiamiento",
catalogos.descripcion AS "Descripción_fuente_de_financiamiento",cat.clave_cuenta AS "Clave_de_cuenta_contable",
cc.descripcion AS "Descripción_de_cuenta_contable",cat.clasificador_economico AS "Clave_de_clasificador_económico",
ce.descripcion AS "Descripción_de_clasificador_económico",
CASE 
WHEN cat.afectable =true THEN 'Afectable'
WHEN cat.afectable = false THEN 'No afectable' 
ELSE 'NA'
END 
AS "Afectable",
cat.estatus AS "Estatus"
FROM
(
SELECT c.id_cat,cf.id_cat,id_foranea,id_catalogo_foraneo,cf.id_catalogo,descripcion
FROM catalog.catalogos c
INNER JOIN catalog.catalogos_foraneos cf ON c.id_catalogo = cf.id_catalogo_foraneo
WHERE c.id_catalogo = cf.id_catalogo_foraneo AND c.id_cat=id_foranea
) AS catalogos,catalog.catalogos cat
INNER JOIN catalog.cuentas_contables cc ON cat.clave_cuenta = cc.clave_cuenta
LEFT JOIN catalog.clasificador_economico ce ON cat.clasificador_economico = ce.clave
INNER JOIN catalog.catalogos_presupuestales cp ON cat.id_catalogo = cp.id_catalogo
INNER JOIN catalog.catalogos_foraneos cf ON cat.id_periodo = cf.id_periodo
INNER JOIN catalog.segmento_mascara sm ON cat.ur = sm.id_unidad_responsable
WHERE cat.id_periodo = $P{periodo} AND cp.id_periodo = cat.id_periodo AND cc.periodo =cat.id_periodo AND sm.id_periodo = cat.id_periodo
AND cat.ur = $P{ur} AND sm.id_unidad_responsable = cat.ur
AND cp.id_seccion BETWEEN 1 AND 4
AND cat.id_cat = cf.id_cat AND cat.id_catalogo=catalogos.id_catalogo
AND sm.nivel = cat.nivel AND cat.id_catalogo = sm.id_catalogo
ORDER BY cat.nivel]]>
		</queryString>
		<field name="Clave_de_nivel" class="java.lang.Long"/>
		<field name="Descripción_de_nivel" class="java.lang.String"/>
		<field name="Clave_de_registro" class="java.lang.String"/>
		<field name="Descripción_del_registro" class="java.lang.String"/>
		<field name="Clave_de_fuente de financiamiento" class="java.lang.Long"/>
		<field name="Descripción_fuente_de_financiamiento" class="java.lang.String"/>
		<field name="Clave_de_cuenta_contable" class="java.lang.String"/>
		<field name="Descripción_de_cuenta_contable" class="java.lang.String"/>
		<field name="Clave_de_clasificador_económico" class="java.lang.String"/>
		<field name="Descripción_de_clasificador_económico" class="java.lang.String"/>
		<field name="Afectable" class="java.lang.String"/>
		<field name="Estatus" class="java.lang.Long"/>
	</subDataset>
	<parameter name="ur" class="java.lang.Long">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="periodo" class="java.lang.Long"/>
	<queryString>
		<![CDATA[select a.id_unidad_responsable, to_char(current_date,'dd/mm/yyyy'), to_char(current_date,'yyyy') b from entity.mascara_articulo a
where a.id_unidad_responsable =$P{ur}
LIMIT 1]]>
	</queryString>
	<field name="id_unidad_responsable" class="java.lang.Long"/>
	<field name="to_char" class="java.lang.String"/>
	<field name="b" class="java.lang.String"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="79" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="20" width="1076" height="16" uuid="7ae9b1a6-1d57-4a91-80c5-4502df58288c"/>
				<textElement textAlignment="Center">
					<font fontName="SansSerif" isBold="false"/>
				</textElement>
				<text><![CDATA[SISTEMA INTEGRAL DE PROCESOS ARTICULADOS DE LA ADMINISTRACIÓN PUBLICA]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="0" width="1076" height="20" uuid="90854b8f-5821-4ba9-9a33-a727ba3dbb7f"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<text><![CDATA[UNIVERSIDAD TECNOLÓGICA DE AGUASCALIENTES]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="36" width="1076" height="16" uuid="7ef80d1f-bf8e-4580-abd6-671ff00d3819"/>
				<textElement textAlignment="Center">
					<font fontName="SansSerif" isBold="false"/>
				</textElement>
				<text><![CDATA[DIRECCIÓN DE FINANZAS Y ADMINISTRACIÓN]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="52" width="1076" height="16" uuid="24767878-3836-4218-aa9a-bd747109aa92"/>
				<textElement textAlignment="Center">
					<font fontName="SansSerif" isBold="false"/>
				</textElement>
				<text><![CDATA[CONSULTA DE CLASIFICADOR:]]></text>
			</staticText>
			<image>
				<reportElement x="917" y="0" width="159" height="66" uuid="e705143e-2f34-47ad-b0b8-76fddc1f1a9b"/>
				<imageExpression><![CDATA["http://54.212.248.221:8090/v1.0/admin/projects/SIPAAP/images/bf21694b-b7f6-4f35-b850-8f46728e1859"]]></imageExpression>
			</image>
		</band>
	</title>
	<detail>
		<band height="125" splitType="Stretch">
			<staticText>
				<reportElement x="413" y="0" width="265" height="25" uuid="daf0cddf-438a-4de4-a8d7-846e623c635c"/>
				<text><![CDATA[No se ecuentran datos existentes en la base de datos.]]></text>
			</staticText>
			<componentElement>
				<reportElement key="table" style="table" x="0" y="0" width="1076" height="125" uuid="a55871aa-e8f1-480e-9570-920b56a1fb02"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="datos" uuid="ba51228b-15a6-4034-a531-2c51d3cf922c">
						<datasetParameter name="ur">
							<datasetParameterExpression><![CDATA[$P{ur}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="periodo">
							<datasetParameterExpression><![CDATA[$P{periodo}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="90" uuid="c2968411-d092-4b7f-8b4f-375488792a92">
						<jr:tableHeader style="table_TH" height="2" rowSpan="1"/>
						<jr:columnHeader style="table_CH" height="48" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="90" height="48" uuid="4c24526a-df0c-42fa-876b-fa7650b652f1"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<text><![CDATA[Clave de nivel]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="21" rowSpan="1">
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="20" isPrintWhenDetailOverflows="true" uuid="553d2fd9-5d2c-4d14-8e93-fe3fb4a23428"/>
								<textElement textAlignment="Center"/>
								<textFieldExpression><![CDATA[$F{Clave_de_nivel}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="93c0c53e-6b3b-4ec3-b887-a9c408534287">
						<jr:tableHeader style="table_TH" height="2" rowSpan="1"/>
						<jr:columnHeader style="table_CH" height="48" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="90" height="48" uuid="a006046c-6baa-4600-808a-5cdc108b0d87"/>
								<textElement verticalAlignment="Middle"/>
								<text><![CDATA[Descripción de nivel]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="21" rowSpan="1">
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="20" isPrintWhenDetailOverflows="true" uuid="7a4b7be8-2568-454a-8ed0-3c48f4863827"/>
								<textElement textAlignment="Center"/>
								<textFieldExpression><![CDATA[$F{Descripción_de_nivel}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="4356809b-b1af-4c68-ac57-3b6f3cbdf2d9">
						<jr:tableHeader style="table_TH" height="2" rowSpan="1"/>
						<jr:columnHeader style="table_CH" height="48" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="90" height="48" uuid="fc4ccbea-c8be-4d78-9ef9-0c273be93902"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<text><![CDATA[Clave de registro]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="21" rowSpan="1">
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="20" isPrintWhenDetailOverflows="true" uuid="ad1d06a8-71ba-4dae-8adb-43cfdad401d1"/>
								<textElement textAlignment="Center"/>
								<textFieldExpression><![CDATA[$F{Clave_de_registro}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="02cdc877-6132-4b7d-b514-bd9a372b9a96">
						<jr:tableHeader style="table_TH" height="2" rowSpan="1"/>
						<jr:columnHeader style="table_CH" height="48" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="90" height="48" uuid="39b1469b-e4e4-4d50-97b4-cfca12a21a41"/>
								<textElement verticalAlignment="Middle"/>
								<text><![CDATA[Descripción del registro]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="21" rowSpan="1">
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="20" isPrintWhenDetailOverflows="true" uuid="a26c63ed-b2c9-4b7e-b522-e4ca8d3c50c5"/>
								<textFieldExpression><![CDATA[$F{Descripción_del_registro}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="bb2144ea-2a79-4dd8-a506-e2a73289178e">
						<jr:tableHeader style="table_TH" height="2" rowSpan="1"/>
						<jr:columnHeader style="table_CH" height="48" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="90" height="48" uuid="b7aac1f4-a770-4810-bb85-3c66a475a18a"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<text><![CDATA[Clave de fuente de financiamiento]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="21" rowSpan="1">
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="20" isPrintWhenDetailOverflows="true" uuid="eef1969a-1982-4725-8f81-eec0d887ce77"/>
								<textElement textAlignment="Center"/>
								<textFieldExpression><![CDATA[$F{Clave_de_fuente de financiamiento}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="6ef05d15-5ba1-4a15-8256-c1a18c94a9d4">
						<jr:tableHeader style="table_TH" height="2" rowSpan="1"/>
						<jr:columnHeader style="table_CH" height="48" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="90" height="48" uuid="9b4dc0d3-20e4-4540-a506-5f5928669fe3"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<text><![CDATA[Descripción fuente de financiamiento]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="21" rowSpan="1">
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="20" isPrintWhenDetailOverflows="true" uuid="4d628330-2c38-41ce-8973-2c8fc015eeb3"/>
								<textElement textAlignment="Center"/>
								<textFieldExpression><![CDATA[$F{Descripción_fuente_de_financiamiento}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="082461ab-5ab6-427e-a233-89daa3e70670">
						<jr:tableHeader style="table_TH" height="2" rowSpan="1"/>
						<jr:columnHeader style="table_CH" height="48" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="90" height="48" uuid="b59f045b-d038-479c-8303-eea1beef9702"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<text><![CDATA[Clave de cuenta contable]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="21" rowSpan="1">
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="20" isPrintWhenDetailOverflows="true" uuid="39eb4a76-af98-4711-9141-0f57dc3f00be"/>
								<textElement textAlignment="Center"/>
								<textFieldExpression><![CDATA[$F{Clave_de_cuenta_contable}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="05ef83ac-c77f-49a5-9ca6-b301d9261c2b">
						<jr:tableHeader style="table_TH" height="2" rowSpan="1"/>
						<jr:columnHeader style="table_CH" height="48" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="90" height="48" uuid="f0669434-7216-490c-94ce-929701280828"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<text><![CDATA[Descripción de cuenta contable]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="21" rowSpan="1">
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="20" isPrintWhenDetailOverflows="true" uuid="5a9f0836-c4d8-458d-b08a-681e4fc49bf5"/>
								<textElement textAlignment="Center"/>
								<textFieldExpression><![CDATA[$F{Descripción_de_cuenta_contable}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="671c9eb3-97ae-4246-b960-c5058ffd0da2">
						<jr:tableHeader style="table_TH" height="2" rowSpan="1"/>
						<jr:columnHeader style="table_CH" height="48" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="90" height="48" uuid="0dc67200-06a0-4dfd-8cf4-0418275f0a80"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<text><![CDATA[Clave de clasificador económico]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="21" rowSpan="1">
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="20" isPrintWhenDetailOverflows="true" uuid="089e02e2-518f-4470-97ab-01132148d4a1"/>
								<textElement textAlignment="Center"/>
								<textFieldExpression><![CDATA[$F{Clave_de_clasificador_económico}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="8dc968d0-1380-431c-a06e-ea47e8dbe465">
						<jr:tableHeader style="table_TH" height="2" rowSpan="1"/>
						<jr:columnHeader style="table_CH" height="48" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="90" height="48" uuid="c8ad4763-3a97-424e-b814-bfda0318b980"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<text><![CDATA[Descripción de clasificador económico]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="21" rowSpan="1">
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="20" isPrintWhenDetailOverflows="true" uuid="a1e30a04-a51a-42a1-b2eb-e54adf260678"/>
								<textElement textAlignment="Center"/>
								<textFieldExpression><![CDATA[$F{Descripción_de_clasificador_económico}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="be452e6c-eedf-4098-860e-368cd9a96ac7">
						<jr:tableHeader style="table_TH" height="2" rowSpan="1"/>
						<jr:columnHeader style="table_CH" height="48" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="90" height="48" uuid="f2393785-2bc6-4916-85d2-eb7a953c223e"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<text><![CDATA[Afectable]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="21" rowSpan="1">
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="20" isPrintWhenDetailOverflows="true" uuid="b832a301-c116-4dbc-8ad5-db4549b5a9a9"/>
								<textElement textAlignment="Center"/>
								<textFieldExpression><![CDATA[$F{Afectable}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="da44ae6e-fb40-4d4b-85ff-c8d71f272abd">
						<jr:tableHeader style="table_TH" height="2" rowSpan="1"/>
						<jr:columnHeader style="table_CH" height="48" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="90" height="48" uuid="793b04ad-fe81-4551-9715-007c68c0884d"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<text><![CDATA[Estatus]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="21" rowSpan="1">
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="20" isPrintWhenDetailOverflows="true" uuid="d819a1ee-25ed-41d3-8ef4-20a9d97e7e5b"/>
								<textElement textAlignment="Center"/>
								<textFieldExpression><![CDATA[$F{Estatus}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
				</jr:table>
			</componentElement>
		</band>
	</detail>
	<columnFooter>
		<band height="45" splitType="Stretch">
			<line>
				<reportElement x="0" y="43" width="1069" height="2" forecolor="#999999" uuid="d5c56995-5460-4233-a369-117aaf20e48f"/>
			</line>
		</band>
	</columnFooter>
	<pageFooter>
		<band height="54" splitType="Stretch">
			<staticText>
				<reportElement positionType="Float" x="967" y="20" width="109" height="20" forecolor="#666666" uuid="fab6ab1b-298e-4eea-b180-5536451b2a82"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<text><![CDATA[SIPAAP_UTAGS]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement positionType="Float" x="967" y="0" width="109" height="20" forecolor="#666666" uuid="90b482b2-2185-4c23-9d65-2606ffb09059"/>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{to_char}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement positionType="Float" x="867" y="0" width="100" height="20" forecolor="#666666" uuid="eb489aaa-1e4f-4e3f-8969-cee8352ab65c"/>
				<textElement textAlignment="Right">
					<font size="8"/>
				</textElement>
				<text><![CDATA[Fecha de impresión:]]></text>
			</staticText>
		</band>
	</pageFooter>
</jasperReport>
